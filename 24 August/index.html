<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f0f0f0;
            margin: 0;
            padding: 20px;
        }

        div {
            background-color: #fff;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
    </style>
</head>

<body>

    <div id="posts"></div>
    <div id="users"></div>
    <div id="products"></div>

    <!-- <form name="myform" id="myform" action="https://www.google.ca/">
        <p>
            <label for="jsonfile">JSON:</label>
            <input type="file" id="jsonfile" name="jsonfile" accept="application/json" />
        </p>
        <p>
            <label for="imgfile">Image:</label>
            <input type="file" id="imgfile" name="imgfile" accept="image/*" />
        </p>
        <p>
            <button id="btnSend">Send</button>
        </p>
    </form> -->


    <script>
        let url1 = "https://jsonplaceholder.typicode.com/posts";
        let url2 = "https://random-data-api.com/api/v2/users?size=10";
        let url3 = "https://fakestoreapi.com/products";
        let url4 = "https://v6.exchangerate-api.com/v6/india/latest/USD"
        // async function setData() {
        //     //
        //     const imgInput = document.getElementById('imgfile');
        //     const jsonInput = document.getElementById('jsonfile');

        //     document.getElementById('myform').addEventListener('submit', (ev) => {
        //         ev.preventDefault();
        //         //upload something
        //         let obj = {
        //             id: 2,
        //             name: 'steve',
        //         };
        //         let jsonstring = JSON.stringify(obj);

        //         let fd = new FormData(document.getElementById('myform'));
        //         // let fd = new FormData();
        //         // console.log(imgInput.files[0]);
        //         // fd.append('imageFile', imgInput.files[0], imgInput.files[0].name);
        //         console.log(fd);
        //         fetch(url, {
        //             method: 'POST',
        //             // body: jsonstring,
        //             body: fd,
        //             headers: {
        //                 'content-type': 'multipart/form-data',
        //             },
        //         })
        //             .then((response) => {
        //                 if (!response.ok) throw new Error('invalid');
        //                 return response.text();
        //             })
        //             .then((txt) => {
        //                 console.log(txt);
        //             })
        //             .catch(console.warn);
        //     });
        // }
        // setData();


        // async function getData() {
        //     //
        //     const imgurl = `https://picsum.photos/id/237/300/200`;

        //     let request = new Request(imgurl, {
        //         cache: 'default',
        //         credentials: 'same-origin',
        //         method: 'GET',
        //         mode: 'no-cors',
        //     });

        //     fetch(imgurl).then((resp) => {
        //         console.log('External IMG mode: cors');
        //         console.log(resp.status); // 200
        //     });
        //     fetch(imgurl, { mode: 'no-cors' }).then((resp) => {
        //         console.log('External IMG mode: no-cors');
        //         console.log(resp.status); // 0
        //     });

        //     fetch(url, { mode: 'cors' }).then((resp) => {
        //         console.log('Local JSON mode: cors');
        //         console.log(resp.status); // 200
        //     });
        //     fetch(url, { mode: 'no-cors' }).then((resp) => {
        //         console.log('Local JSON mode: no-cors');
        //         console.log(resp.status); // 0
        //     });
        // }
        // getData();

        // let jsonurl = "https://random-data-api.com/api/v2/users?size=10";
        // let imageurl = "https://picsum.photos/id/237/300/200";
        // async function getData() {
        //     // First Method
        //     // let json;
        //     // let image;
        //     // fetch(imageurl)
        //     //     .then(res => {
        //     //         return res.blob();
        //     //     })
        //     //     .then(data => {
        //     //         image = data;
        //     //         return fetch(jsonurl);
        //     //     })
        //     //     .then((data) => {
        //     //         json = data;
        //     //         return Promise.all([json, image])
        //     //     })
        //     //     .then(([json, image]) => {          // Destructuring the both object
        //     //         console.log(json);
        //     //         console.log(image);
        //     //     })
        //     //     .catch((err) => {
        //     //         console.log(err);
        //     //     })

        //     // Second Method
        //     Promise.all([fetch(imageurl), fetch(jsonurl)])
        //         .then(([image, json]) => {
        //             return Promise.all([image.blob(), json.json()]);
        //         }).then(([img, json]) => {
        //             console.log(img);
        //             console.log(json);
        //         })
        // }
        // getData();

        // async function myFunc() {
        //     // First
        //     let a1 = await fetch("https://random-data-api.com/api/v2/users?size=10", {
        //         method: 'POST',
        //         headers: {
        //             'Content-Type': 'application/json'
        //         },
        //         body: JSON.stringify({
        //             title: "Hello",
        //             first_name: 'Stacy'
        //         })
        //     });
        //     let b1 = await a1.json();
        //     console.log(b1);

        //     //Second
        //     let a2 = await fetch("https://fakestoreapi.com/products", {
        //         method: "POST",
        //         headers: {
        //             "Content-Type": "application/json",
        //         },
        //         body: JSON.stringify({
        //             title: "Hello",
        //             first_name: 'Stacy'
        //         })
        //     });
        //     let b2 = await a2.json();
        //     console.log(b2);

        //     // Third
        //     let a3 = await fetch("https://jsonplaceholder.typicode.com/posts", {
        //         method: "POST",
        //         headers: {
        //             "Content-Type": "application/json",
        //         },
        //         body: JSON.stringify({
        //             title: "Hello",
        //             first_name: 'Stacy'
        //         })
        //     });
        //     let b3 = await a3.json();
        //     console.log(b3);
        // }
        // myFunc();


        // Promise.all([fetch(url1), fetch(url2), fetch(url3)])
        //     .then(responses => {
        //         return Promise.all(responses.map(response => response.json()))
        //     })
        //     .then(dataArray => {
        //         console.log(dataArray);                         // Array of all json array which is we converted in response.json()
        //         dataArray.forEach(ele => console.log(ele));     // Print all array which is inside dataArray
        //     })
        //     .catch(error => {
        //         console.error('Error fetching data:', error);
        //     });

        // async function allAPIs() {
        //     let a = await fetch(url1);
        //     let b = await fetch(url2);
        //     let c = await fetch(url3);
        //     let aj = await a.json();
        //     let bj = await b.json();
        //     let cj = await c.json();
        //     console.log("First", aj);
        //     console.log("Second", bj);
        //     console.log("Third", cj);
        // }
        // allAPIs();

        // async function fetchData(url) {
        //     let a = await fetch(url);
        //     let b = await a.json();
        //     return b;
        // }
        // async function displayPosts() {
        //     let data = await fetchData(url1);
        //     let random = data[Math.floor(Math.random() * data.length)];
        //     document.getElementById("posts").innerHTML = `<h2>Random Post</h2><p>${random.title}</p><p>${random.body}</p>`;
        // }
        // async function displayUsers() {
        //     let data = await fetchData(url2);
        //     let random = data[Math.floor(Math.random() * data.length)];
        //     document.getElementById("users").innerHTML = `<h2>Random User</h2><p>Name: ${random.first_name} ${random.last_name}</p>`;
        // }
        // async function displayProducts() {
        //     let data = await fetchData(url3);
        //     let random = data[Math.floor(Math.random() * data.length)];
        //     document.getElementById("products").innerHTML = `<h2>Random Product</h2><p>Name: ${random.title}</p><p>Price: $${random.price}</p>`;
        // }
        // displayPosts();
        // displayUsers();
        // displayProducts();


        // function getData(str, idNumber) {
        //     let url = new URL(str);
        //     // console.log(url);
        //     let searchParams = url.searchParams;
        //     searchParams.set('id', idNumber);
        //     fetch(url)
        //         .then(response => response.json())
        //         .then(data => console.log(data))
        //         .catch(error => console.log('Error'));
        // }
        // getData('https://jsonplaceholder.typicode.com/posts', 99);

        // function updateData(str, idNumber, newData) {
        //     let url = new URL(str);
        //     url.pathname += `/${idNumber}`;
        //     console.log(url);
        //     fetch(url, {
        //         method: 'PUT',
        //         headers: {
        //             'Content-Type': 'application/json'
        //         },
        //         body: JSON.stringify(newData)
        //     })
        //         .then(response => response.json())
        //         .then(updatedData => console.log(updatedData))
        //         .catch(error => console.log('Error'));
        // }
        // let newData = {
        //     title: 'New Title',
        //     body: 'New Body',
        //     newItem: 'New Item'
        // };
        // updateData('https://jsonplaceholder.typicode.com/posts', 50, newData);


        // const index = 1;
        // const url = 'https://jsonplaceholder.typicode.com/posts';

        // fetch(url, {
        //     method: 'POST',
        //     headers: {
        //         'Content-Type': 'application/json',
        //     },
        //     body: JSON.stringify({ id: index }),
        // })
        //     .then(response => response.json())
        //     .then(postData => {
        //         console.log(postData);
        //     })
        //     .catch(error => {
        //         console.error(error);
        //     });


        async function setData() {
            let a = await fetch(url1, {
                method: 'POST',
                headers: {
                    "Content-Type": "application/json",
                },
                body: JSON.stringify({
                    title: "Hello"
                })
            });
            let b = await a.json();
            console.log(b);
        }
        setData();




    </script>
</body>

</html>